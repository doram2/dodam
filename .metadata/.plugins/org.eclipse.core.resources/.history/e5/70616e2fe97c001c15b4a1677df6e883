<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="springBootTest2.mapper.Goods1Mapper">


<sql id="baseColumns">
	EMP_NUM, GOODS_NUM, GOODS_NAME, GOODS_PRICE, GOODS_DATE, GOODS_CONTENT, GOODS_QTY, GOODS_COMPANY, GOODS_IMAGE
</sql>
<select id="selectOne" resultType="springBootTest2.domain.GoodsDTO">
	select EMP_NUM empNum, GOODS_NUM goodsNum, GOODS_NAME goodsName, GOODS_PRICE goodsPrice,
	GOODS_DATE goodsDate, GOODS_CONTENT goodsContent, GOODS_QTY goodsQty, GOODS_COMPANY goodsCompany, GOODS_IMAGE goodsImage
	from goods
	where GOODS_NUM = #{goodsNum}
</select>
<delete id="goodsDelete" parameterType="string">
	delete from goods
	where GOODS_NUM = #{goodsNum}
</delete>
<insert id="goodsInsert" parameterType="springBootTest2.domain.GoodsDTO"> 
	insert into goods(<include refid="baseColumns"/>)
	values(#{empNum}, #{goodsNum}, #{goodsName}, #{goodsPrice}, #{goodsDate},
			#{goodsContent}, #{goodsQty}, #{goodsCompany}, #{goodsImage})
</insert>
<select id="selectAll" resultType="springBootTest2.domain.GoodsDTO">
	select EMP_NUM empNum, GOODS_NUM goodsNum, GOODS_NAME goodsName, GOODS_PRICE goodsPrice,
	GOODS_DATE goodsDate, GOODS_CONTENT goodsContent, GOODS_QTY goodsQty, GOODS_COMPANY goodsCompany
	from goods
</select>
<select id="numberGenerate" resultType="string">
	select concat('kosa',nvl(max(substr(GOODS_NUM,5)),100000) + 1) from goods
</select>
<update id="goodsUpdate" parameterType="springBootTest2.domain.GoodsDTO">
	update goods
	set GOODS_NAME = #{goodsName}, GOODS_PRICE = #{goodsPrice}, GOODS_DATE = #{goodsDate}, GOODS_CONTENT = #{goodsContent},
	    GOODS_QTY = #{goodsQty}, GOODS_COMPANY = #{goodsCompany}, GOODS_IMAGE = #{goodsImage}
	where GOODS_NUM = #{goodsNum}
</update>

</mapper>